<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BAT SVG Real-Time Cropper</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }
        .component-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .component-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .component-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        .svg-cropper {
            border: 2px solid #ddd;
            border-radius: 8px;
            margin: 15px 0;
            background: #fafafa;
            height: 200px;
            width: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            position: relative;
            overflow: hidden;
        }
        .svg-cropper svg {
            max-width: 100%;
            max-height: 100%;
        }
        .coordinate-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 15px 0;
        }
        .coordinate-inputs input {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 12px;
        }
        .verification-section {
            margin: 15px 0;
        }
        .verification-section label {
            display: inline-block;
            margin-right: 15px;
            font-weight: bold;
            font-size: 14px;
        }
        .verification-section input[type="radio"] {
            margin-right: 5px;
        }
        .output-section {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 20px;
            margin-top: 30px;
        }
        .output-section textarea {
            width: 100%;
            height: 200px;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            font-family: monospace;
            font-size: 12px;
        }
        .btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            margin: 5px;
        }
        .btn:hover {
            background: #0056b3;
        }
        .component-info {
            font-size: 12px;
            color: #666;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>BAT SVG Component Verification Tool</h1>
        <p>Verify and correct coordinates for individual components</p>
    </div>

    <div id="components-container" class="component-grid">
        <!-- Components will be dynamically generated here -->
    </div>

    <div class="output-section">
        <h3>Verification Results</h3>
        <button class="btn" onclick="exportResults()">Export Results</button>
        <button class="btn" onclick="exportCSV()">Export CSV</button>
        <textarea id="output" placeholder="Verification results will appear here..."></textarea>
    </div>

    <script>
        // Store the full SVG content
        const fullSVG = `<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="2205px" preserveAspectRatio="xMidYMid meet" style="width:100%;height:100%;background:#F7F9FC;" version="1.1" viewBox="0 0 2403 2205" width="2403.75px" zoomAndPan="magnify">
<title>Heat Exchanger Portal — Architecture (Diagram 1)</title>
<defs>
<linearGradient id="guh74wfjtgqem0" x1="50%" x2="50%" y1="0%" y2="100%">
<stop offset="0%" stop-color="#EEF2FF"/>
<stop offset="100%" stop-color="#E2E8F0"/>
</linearGradient>
<filter height="300%" id="fuh74wfjtgqem" width="300%" x="-1" y="-1">
<feGaussianBlur result="blurOut" stdDeviation="2.5"/>
<feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
<feOffset dx="5" dy="5" in="blurOut2" result="blurOut3"/>
<feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/>
</filter>
<linearGradient id="guh74wfjtgqem1" x1="50%" x2="50%" y1="0%" y2="100%">
<stop offset="0%" stop-color="#1F2937"/>
<stop offset="100%" stop-color="#0F172A"/>
</linearGradient>
</defs>
<g>
<rect fill="#F7F9FC" height="2205" style="stroke:none;stroke-width:1.25;" width="2403.75" x="0" y="0"/>
<text fill="#111827" font-family="sans-serif" font-size="25" font-weight="bold" lengthAdjust="spacing" textLength="712.0117" x="837.4948" y="35.7056">Heat Exchanger Portal — Architecture (Diagram 1)</text>
<!--cluster portal-->
<g class="cluster" data-entity="portal" data-source-line="121" data-uid="ent0005" id="cluster_portal">
<rect fill="url(#guh74wfjtgqem0)" filter="url(#fuh74wfjtgqem)" height="1871.4125" rx="11.25" ry="11.25" style="stroke:#94A3B8;stroke-width:1.25;" width="1647.5" x="311.9375" y="64.1016"/>
<path d="M546.332,64.1016 L546.332,75.7227 L533.832,88.2227 L311.9375,88.2227" fill="none" style="stroke:#94A3B8;stroke-width:1.25;"/>
<text fill="#111827" font-family="sans-serif" font-size="17.5" font-weight="bold" lengthAdjust="spacing" textLength="221.8945" x="315.6875" y="81.5955">Heat Exchanger Portal</text>
</g>
<!--entity spa-->
<g class="entity" data-entity="spa" data-source-line="125" data-uid="ent0007" id="entity_spa">
<polygon fill="#2D314A" filter="url(#fuh74wfjtgqem)" points="405.825,503.2766,418.325,490.7766,563.0638,490.7766,563.0638,576.8898,550.5638,589.3898,405.825,589.3898,405.825,503.2766" style="stroke:#9CA3AF;stroke-width:0.625;"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="550.5638" x2="563.0638" y1="503.2766" y2="490.7766"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="405.825" x2="550.5638" y1="503.2766" y2="503.2766"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="550.5638" x2="550.5638" y1="503.2766" y2="589.3898"/>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="96.3953" x="429.9968" y="532.0205">«frontend»</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="107.2388" x="424.575" y="552.3916">Angular SPA</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="104.3335" x="424.575" y="572.7626">«container»</text>
</g>
<!--entity realtime-->
<g class="entity" data-entity="realtime" data-source-line="126" data-uid="ent0008" id="entity_realtime">
<polygon fill="#2D314A" filter="url(#fuh74wfjtgqem)" points="361.9625,812.0766,374.4625,799.5766,606.932,799.5766,606.932,906.0609,594.432,918.5609,361.9625,918.5609,361.9625,812.0766" style="stroke:#9CA3AF;stroke-width:0.625;"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="594.432" x2="606.932" y1="812.0766" y2="799.5766"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="361.9625" x2="594.432" y1="812.0766" y2="812.0766"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="594.432" x2="594.432" y1="812.0766" y2="918.5609"/>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="96.3953" x="429.9996" y="840.8205">«frontend»</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="186.3562" x="380.7125" y="861.1916">Real-time Integration</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="194.9695" x="380.7125" y="881.5626">(SignalR / WebSocket)</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="120.415" x="380.7125" y="901.9337">«component»</text>
</g>
<!--entity extgw-->
<g class="entity" data-entity="extgw" data-source-line="131" data-uid="ent0010" id="entity_extgw">
<polygon fill="#2D314A" filter="url(#fuh74wfjtgqem)" points="757.2875,812.0766,769.7875,799.5766,986.5856,799.5766,986.5856,906.0609,974.0856,918.5609,757.2875,918.5609,757.2875,812.0766" style="stroke:#9CA3AF;stroke-width:0.625;"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="974.0856" x2="986.5856" y1="812.0766" y2="799.5766"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="757.2875" x2="974.0856" y1="812.0766" y2="812.0766"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="974.0856" x2="974.0856" y1="812.0766" y2="918.5609"/>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="96.2671" x="817.553" y="840.8205">«gateway»</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="179.2981" x="776.0375" y="861.1916">Integration Gateway</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="144.3066" x="776.0375" y="881.5626">(Partner Routes)</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="104.3335" x="776.0375" y="901.9337">«container»</text>
</g>
<!--entity osgw-->
<g class="entity" data-entity="osgw" data-source-line="132" data-uid="ent0011" id="entity_osgw">
<polygon fill="#2D314A" filter="url(#fuh74wfjtgqem)" points="1137.0375,812.0766,1149.5375,799.5766,1419.3568,799.5766,1419.3568,906.0609,1406.8568,918.5609,1137.0375,918.5609,1137.0375,812.0766" style="stroke:#9CA3AF;stroke-width:0.625;"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1406.8568" x2="1419.3568" y1="812.0766" y2="799.5766"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1137.0375" x2="1406.8568" y1="812.0766" y2="812.0766"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1406.8568" x2="1406.8568" y1="812.0766" y2="918.5609"/>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="96.2671" x="1223.8136" y="840.8205">«gateway»</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="202.9419" x="1155.7875" y="861.1916">OpenShift API Gateway</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="232.3193" x="1155.7875" y="881.5626">(Ingress / WAF / TLS / JWT)</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="104.3335" x="1155.7875" y="901.9337">«container»</text>
</g>
<!--entity webapi-->
<g class="entity" data-entity="webapi" data-source-line="137" data-uid="ent0013" id="entity_webapi">
<polygon fill="#2D314A" filter="url(#fuh74wfjtgqem)" points="931.5875,1131.0641,944.0875,1118.5641,1244.7882,1118.5641,1244.7882,1225.0484,1232.2882,1237.5484,931.5875,1237.5484,931.5875,1131.0641" style="stroke:#9CA3AF;stroke-width:0.625;"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1232.2882" x2="1244.7882" y1="1131.0641" y2="1118.5641"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="931.5875" x2="1232.2882" y1="1131.0641" y2="1131.0641"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1232.2882" x2="1232.2882" y1="1131.0641" y2="1237.5484"/>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="84.0991" x="1039.8883" y="1159.808">«service»</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="164.8401" x="950.3375" y="1180.1791">.NET Core Web API</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="263.2007" x="950.3375" y="1200.5501">(Orchestration, AuthZ, Cache)</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="104.3335" x="950.3375" y="1220.9212">«container»</text>
</g>
<!--entity dpe-->
<g class="entity" data-entity="dpe" data-source-line="138" data-uid="ent0014" id="entity_dpe">
<polygon fill="#2D314A" filter="url(#fuh74wfjtgqem)" points="1316.85,1450.0391,1329.35,1437.5391,1589.5392,1437.5391,1589.5392,1544.0234,1577.0392,1556.5234,1316.85,1556.5234,1316.85,1450.0391" style="stroke:#9CA3AF;stroke-width:0.625;"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1577.0392" x2="1589.5392" y1="1450.0391" y2="1437.5391"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1316.85" x2="1577.0392" y1="1450.0391" y2="1450.0391"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1577.0392" x2="1577.0392" y1="1450.0391" y2="1556.5234"/>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="84.0991" x="1404.895" y="1478.783">«service»</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="207.0264" x="1335.6" y="1499.1541">Data Processing Engine</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="222.6892" x="1335.6" y="1519.5251">(ETL/ELT, Streams/Batch)</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="104.3335" x="1335.6" y="1539.8962">«container»</text>
</g>
<!--entity intsvc-->
<g class="entity" data-entity="intsvc" data-source-line="139" data-uid="ent0015" id="entity_intsvc">
<polygon fill="#2D314A" filter="url(#fuh74wfjtgqem)" points="941.55,1450.0391,954.05,1437.5391,1167.3361,1437.5391,1167.3361,1544.0234,1154.8361,1556.5234,941.55,1556.5234,941.55,1450.0391" style="stroke:#9CA3AF;stroke-width:0.625;"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1154.8361" x2="1167.3361" y1="1450.0391" y2="1437.5391"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="941.55" x2="1154.8361" y1="1450.0391" y2="1450.0391"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1154.8361" x2="1154.8361" y1="1450.0391" y2="1556.5234"/>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="84.0991" x="1006.1435" y="1478.783">«service»</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="175.7861" x="960.3" y="1499.1541">Integration Services</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="135.8472" x="960.3" y="1519.5251">(Adapters, Bus)</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="120.415" x="960.3" y="1539.8962">«component»</text>
</g>
<!--entity analytics-->
<g class="entity" data-entity="analytics" data-source-line="140" data-uid="ent0016" id="entity_analytics">
<polygon fill="#2D314A" filter="url(#fuh74wfjtgqem)" points="1394.4375,1131.0641,1406.9375,1118.5641,1589.4448,1118.5641,1589.4448,1225.0484,1576.9448,1237.5484,1394.4375,1237.5484,1394.4375,1131.0641" style="stroke:#9CA3AF;stroke-width:0.625;"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1576.9448" x2="1589.4448" y1="1131.0641" y2="1118.5641"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1394.4375" x2="1576.9448" y1="1131.0641" y2="1131.0641"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1576.9448" x2="1576.9448" y1="1131.0641" y2="1237.5484"/>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="84.0991" x="1443.6416" y="1159.808">«service»</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="145.0073" x="1413.1875" y="1180.1791">Analytics Engine</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="129.0027" x="1413.1875" y="1200.5501">(KPIs, Reports)</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="120.415" x="1413.1875" y="1220.9212">«component»</text>
</g>
<!--entity sql-->
<g class="entity" data-entity="sql" data-source-line="145" data-uid="ent0018" id="entity_sql">
<path d="M875.4375,1774.6516 C875.4375,1762.1516 990.6902,1762.1516 990.6902,1762.1516 C990.6902,1762.1516 1105.9429,1762.1516 1105.9429,1774.6516 L1105.9429,1867.3859 C1105.9429,1879.8859 990.6902,1879.8859 990.6902,1879.8859 C990.6902,1879.8859 875.4375,1879.8859 875.4375,1867.3859 L875.4375,1774.6516" fill="#3C2F1B" filter="url(#fuh74wfjtgqem)" style="stroke:#D1A954;stroke-width:0.625;"/>
<path d="M875.4375,1774.6516 C875.4375,1787.1516 990.6902,1787.1516 990.6902,1787.1516 C990.6902,1787.1516 1105.9429,1787.1516 1105.9429,1774.6516" fill="none" style="stroke:#D1A954;stroke-width:0.625;"/>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="105.4785" x="937.9509" y="1808.3955">«datastore»</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="193.1665" x="887.9375" y="1828.7666">SQL Server Enterprise</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="205.5054" x="887.9375" y="1849.1376">(OLTP, Views, Backups)</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="105.4785" x="887.9375" y="1869.5087">«datastore»</text>
</g>
<!--entity redis-->
<g class="entity" data-entity="redis" data-source-line="146" data-uid="ent0019" id="entity_redis">
<path d="M521.325,1774.6516 C521.325,1762.1516 623.1963,1762.1516 623.1963,1762.1516 C623.1963,1762.1516 725.0677,1762.1516 725.0677,1774.6516 L725.0677,1867.3859 C725.0677,1879.8859 623.1963,1879.8859 623.1963,1879.8859 C623.1963,1879.8859 521.325,1879.8859 521.325,1867.3859 L521.325,1774.6516" fill="#3C2F1B" filter="url(#fuh74wfjtgqem)" style="stroke:#D1A954;stroke-width:0.625;"/>
<path d="M521.325,1774.6516 C521.325,1787.1516 623.1963,1787.1516 623.1963,1787.1516 C623.1963,1787.1516 725.0677,1787.1516 725.0677,1774.6516" fill="none" style="stroke:#D1A954;stroke-width:0.625;"/>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="105.4785" x="570.4571" y="1808.3955">«datastore»</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="107.9993" x="533.825" y="1828.7666">Redis Cache</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="178.7427" x="533.825" y="1849.1376">(Sessions, Hot Data)</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="105.4785" x="533.825" y="1869.5087">«datastore»</text>
</g>
<!--entity blob-->
<g class="entity" data-entity="blob" data-source-line="147" data-uid="ent0020" id="entity_blob">
<path d="M1267.675,1756.5266 L1302.675,1756.5266 A16.875,16.875 0 0 1 1313.925,1767.7766 L1322.675,1782.7766 L1413.7028,1782.7766 A11.25,11.25 0 0 1 1424.9528,1794.0266 L1424.9528,1874.2609 A11.25,11.25 0 0 1 1413.7028,1885.5109 L1267.675,1885.5109 A11.25,11.25 0 0 1 1256.425,1874.2609 L1256.425,1767.7766 A11.25,11.25 0 0 1 1267.675,1756.5266" fill="#483B24" filter="url(#fuh74wfjtgqem)" style="stroke:#D6B46C;stroke-width:0.625;"/>
<line style="stroke:#D6B46C;stroke-width:0.625;" x1="1256.425" x2="1322.675" y1="1782.7766" y2="1782.7766"/>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="105.4785" x="1281.6997" y="1807.7705">«datastore»</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="131.0278" x="1268.925" y="1828.1416">Object Storage</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="103.1372" x="1268.925" y="1848.5126">(Blob, Files)</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="105.4785" x="1268.925" y="1868.8837">«datastore»</text>
</g>
<!--entity prom-->
<g class="entity" data-entity="prom" data-source-line="152" data-uid="ent0022" id="entity_prom">
<polygon fill="#2D314A" filter="url(#fuh74wfjtgqem)" points="1719.9,1774.0266,1732.4,1761.5266,1908.9771,1761.5266,1908.9771,1868.0109,1896.4771,1880.5109,1719.9,1880.5109,1719.9,1774.0266" style="stroke:#9CA3AF;stroke-width:0.625;"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1896.4771" x2="1908.9771" y1="1774.0266" y2="1761.5266"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1719.9" x2="1896.4771" y1="1774.0266" y2="1774.0266"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1896.4771" x2="1896.4771" y1="1774.0266" y2="1880.5109"/>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="80.6641" x="1767.8565" y="1802.7705">«observ»</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="105.1965" x="1738.65" y="1823.1416">Prometheus</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="139.0771" x="1738.65" y="1843.5126">(Metrics, Alerts)</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="120.415" x="1738.65" y="1863.8837">«component»</text>
</g>
<!--entity graf-->
<g class="entity" data-entity="graf" data-source-line="153" data-uid="ent0023" id="entity_graf">
<polygon fill="#2D314A" filter="url(#fuh74wfjtgqem)" points="1739.2375,1450.0391,1751.7375,1437.5391,1909.6525,1437.5391,1909.6525,1544.0234,1897.1525,1556.5234,1739.2375,1556.5234,1739.2375,1450.0391" style="stroke:#9CA3AF;stroke-width:0.625;"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1897.1525" x2="1909.6525" y1="1450.0391" y2="1437.5391"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1739.2375" x2="1897.1525" y1="1450.0391" y2="1450.0391"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1897.1525" x2="1897.1525" y1="1450.0391" y2="1556.5234"/>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="80.6641" x="1777.863" y="1478.783">«observ»</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="70.1794" x="1757.9875" y="1499.1541">Grafana</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="118.0225" x="1757.9875" y="1519.5251">(Dashboards)</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="120.415" x="1757.9875" y="1539.8962">«component»</text>
</g>
<!--entity cicd-->
<g class="entity" data-entity="cicd" data-source-line="158" data-uid="ent0025" id="entity_cicd">
<polygon fill="#2D314A" filter="url(#fuh74wfjtgqem)" points="1581.65,174.1016,1594.15,161.6016,1799.7372,161.6016,1799.7372,268.0859,1787.2372,280.5859,1581.65,280.5859,1581.65,174.1016" style="stroke:#9CA3AF;stroke-width:0.625;"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1787.2372" x2="1799.7372" y1="174.1016" y2="161.6016"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1581.65" x2="1787.2372" y1="174.1016" y2="174.1016"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1787.2372" x2="1787.2372" y1="174.1016" y2="280.5859"/>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="96.0791" x="1636.404" y="202.8455">«platform»</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="123.4058" x="1600.4" y="223.2166">CI/CD Pipeline</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="168.0872" x="1600.4" y="243.5876">(Build/Test/Deploy)</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="120.415" x="1600.4" y="263.9587">«component»</text>
</g>
<!--entity nexus-->
<g class="entity" data-entity="nexus" data-source-line="159" data-uid="ent0026" id="entity_nexus">
<polygon fill="#2D314A" filter="url(#fuh74wfjtgqem)" points="1564.2125,493.0891,1576.7125,480.5891,1817.1629,480.5891,1817.1629,587.0734,1804.6629,599.5734,1564.2125,599.5734,1564.2125,493.0891" style="stroke:#9CA3AF;stroke-width:0.625;"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1804.6629" x2="1817.1629" y1="493.0891" y2="480.5891"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1564.2125" x2="1804.6629" y1="493.0891" y2="493.0891"/>
<line style="stroke:#9CA3AF;stroke-width:0.625;" x1="1804.6629" x2="1804.6629" y1="493.0891" y2="599.5734"/>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="96.0791" x="1636.3982" y="521.833">«platform»</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="202.9504" x="1582.9625" y="542.2041">Artifact/Image Registry</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="68.0774" x="1582.9625" y="562.5751">(Nexus)</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="120.415" x="1582.9625" y="582.9462">«component»</text>
</g>
<!--entity ocp-->
<g class="entity" data-entity="ocp" data-source-line="160" data-uid="ent0027" id="entity_ocp">
<path d="M1580.5099,812.289 C1583.6057,804.4367 1591.4367,802.5857 1596.7129,809.9704 C1601.5993,802.1087 1607.2284,801.47 1612.8044,809.2615 C1615.9592,801.7281 1622.5648,800.2734 1627.8942,806.9528 C1631.9993,798.1518 1637.3955,798.2211 1644.0544,804.1514 C1649.6398,796.2852 1654.789,796.7467 1660.4137,804.1091 C1664.249,796.8148 1670.2243,794.7244 1676.3368,801.5393 C1682.2478,794.8115 1687.1909,793.9168 1691.9732,802.6786 C1696.3646,794.1254 1703.1646,795.7305 1708.0202,802.1822 C1714.3422,796.0594 1721.4113,796.6059 1724.5067,805.6821 C1728.6358,797.623 1735.2148,798.6178 1739.8802,805.1158 C1746.0116,799.4151 1751.522,800.3856 1754.6826,808.337 C1759.2582,800.3506 1767.6821,800.4276 1772.3668,808.2147 C1777.524,801.6448 1783.4232,802.562 1787.862,809.0662 C1793.6313,801.2125 1798.5209,800.998 1803.6797,809.6513 C1814.2301,812.702 1814.8903,821.7908 1807.6466,828.5721 C1816.2174,831.026 1817.7562,836.7329 1812.7461,843.7497 C1821.8551,846.9071 1822.7224,854.7434 1815.9948,860.9006 C1821.4245,867.8441 1819.2926,875.5037 1810.2414,877.3966 C1817.9198,883.4597 1815.1962,890.7723 1807.0544,893.7529 C1812.7648,900.3865 1812.0877,905.7575 1803.6489,909.2898 C1798.8862,917.6333 1793.6214,918.2813 1787.1077,911.1632 C1782.1925,919.2686 1776.8301,918.9475 1771.3436,911.7518 C1767.2052,919.2935 1761.0772,920.7321 1755.1944,913.6824 C1751.7976,921.3888 1744.9369,923.6884 1738.7999,916.7499 C1733.8072,925.8538 1728.7489,925.2444 1722.5681,917.9241 C1719.2434,925.6822 1711.841,925.6162 1707.6148,918.8525 C1703.1456,925.6593 1697.1049,927.6892 1691.7695,919.7855 C1686.0645,925.4393 1681.138,927.0256 1676.8361,918.3257 C1670.6487,925.2623 1664.2,926.3108 1659.5192,916.7448 C1655.623,922.2502 1649.5028,923.3739 1645.9716,916.3502 C1640.141,923.2611 1632.7124,922.2312 1628.6106,914.3246 C1623.493,920.9392 1617.775,920.7569 1613.4139,913.496 C1606.0867,920.3516 1600.9269,919.6428 1596.3728,910.5356 C1592.9158,917.1966 1585.9846,916.8877 1581.9898,911.16 C1574.8021,906.7478 1574.0646,899.3686 1581.8121,894.7943 C1573.4843,890.2816 1571.8892,883.1496 1580.1249,877.0609 C1573.3701,872.0644 1572.4681,867.3679 1579.7123,861.988 C1571.7194,857.4658 1570.3915,848.8857 1579.9485,844.602 C1571.7042,839.415 1571.8312,830.3817 1580.9641,826.1511 C1575.1508,822.5671 1574.5332,816.2592 1580.5099,812.289" fill="#2C3440" filter="url(#fuh74wfjtgqem)" style="stroke:#94A3B8;stroke-width:0.625;"/>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="96.0791" x="1642.6466" y="834.5705">«platform»</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="137.7698" x="1588.6" y="854.9416">OpenShift (K8s)</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="204.1724" x="1588.6" y="875.3126">(Deploy/Scale/Rollouts)</text>
<text fill="#FFFFFF" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="104.3335" x="1588.6" y="895.6837">«container»</text>
</g>
</g>
</svg>`;
        
        // Store all components - extracted from BAT SVG
        let allComponents = [
            {"name": "Angular SPA", "x": 405.825, "y": 490.7766, "width": 157.24, "height": 98.61, "type": "polygon", "entity_id": "entity_spa", "text": "«frontend» Angular SPA «container»"},
            {"name": "Grafana", "x": 1739.24, "y": 1437.54, "width": 170.41, "height": 118.98, "type": "polygon", "entity_id": "entity_graf", "text": "«observ» Grafana (Dashboards) «component»"},
            {"name": "Prometheus", "x": 1719.9, "y": 1761.53, "width": 189.08, "height": 118.98, "type": "polygon", "entity_id": "entity_prom", "text": "«observ» Prometheus (Metrics, Alerts) «component»"},
            {"name": "Analytics Engine", "x": 1394.44, "y": 1118.56, "width": 195.01, "height": 118.98, "type": "polygon", "entity_id": "entity_analytics", "text": "«service» Analytics Engine (KPIs, Reports) «component»"},
            {"name": "CI/CD Pipeline", "x": 1581.65, "y": 161.60, "width": 218.09, "height": 118.98, "type": "polygon", "entity_id": "entity_cicd", "text": "«platform» CI/CD Pipeline (Build/Test/Deploy) «component»"},
            {"name": "Integration Services", "x": 941.55, "y": 1437.54, "width": 225.79, "height": 118.98, "type": "polygon", "entity_id": "entity_intsvc", "text": "«service» Integration Services (Adapters, Bus) «component»"},
            {"name": "Integration Gateway", "x": 757.29, "y": 799.58, "width": 229.30, "height": 118.98, "type": "polygon", "entity_id": "entity_extgw", "text": "«gateway» Integration Gateway (Partner Routes) «container»"},
            {"name": "Real-time Integration", "x": 361.96, "y": 799.58, "width": 244.97, "height": 118.98, "type": "polygon", "entity_id": "entity_realtime", "text": "«frontend» Real-time Integration (SignalR / WebSocket) «component»"},
            {"name": "Artifact/Image Registry", "x": 1564.21, "y": 480.59, "width": 252.95, "height": 118.98, "type": "polygon", "entity_id": "entity_nexus", "text": "«platform» Artifact/Image Registry (Nexus) «component»"},
            {"name": "Data Processing Engine", "x": 1316.85, "y": 1437.54, "width": 272.69, "height": 118.98, "type": "polygon", "entity_id": "entity_dpe", "text": "«service» Data Processing Engine (ETL/ELT, Streams/Batch) «container»"},
            {"name": "OpenShift API Gateway", "x": 1137.04, "y": 799.58, "width": 282.32, "height": 118.98, "type": "polygon", "entity_id": "entity_osgw", "text": "«gateway» OpenShift API Gateway (Ingress / WAF / TLS / JWT) «container»"},
            {"name": ".NET Core Web API", "x": 931.59, "y": 1118.56, "width": 313.20, "height": 118.98, "type": "polygon", "entity_id": "entity_webapi", "text": "«service» .NET Core Web API (Orchestration, AuthZ, Cache) «container»"}
        ];
        
        function updateComponent(index) {
            const component = allComponents[index];
            component.x = parseFloat(document.getElementById(`x_${index}`).value);
            component.y = parseFloat(document.getElementById(`y_${index}`).value);
            component.width = parseFloat(document.getElementById(`w_${index}`).value);
            component.height = parseFloat(document.getElementById(`h_${index}`).value);
            
            // Update the SVG cropper
            updateSVGCropper(index);
        }
        
        function updateSVGCropper(index) {
            const component = allComponents[index];
            const cropper = document.getElementById(`cropper_${index}`);
            
            // Calculate the viewBox to show the component area with some padding
            const padding = 100;
            const viewBoxX = Math.max(0, component.x - padding);
            const viewBoxY = Math.max(0, component.y - padding);
            const viewBoxWidth = component.width + (padding * 2);
            const viewBoxHeight = component.height + (padding * 2);
            
            // Create cropped SVG
            const croppedSVG = fullSVG.replace(
                'viewBox="0 0 2403 2205"',
                `viewBox="${viewBoxX} ${viewBoxY} ${viewBoxWidth} ${viewBoxHeight}"`
            );
            
            cropper.innerHTML = croppedSVG;
        }
        
        function generateComponents() {
            const container = document.getElementById('components-container');
            container.innerHTML = '';
            
            allComponents.forEach((component, index) => {
                const card = document.createElement('div');
                card.className = 'component-card';
                
                card.innerHTML = `
                    <div class="component-title">${component.name}</div>
                    <div class="component-info">
                        Entity ID: ${component.entity_id}<br>
                        Type: ${component.type}<br>
                        Text: ${component.text}
                    </div>
                    <div class="svg-cropper" id="cropper_${index}"></div>
                    <div class="coordinate-inputs">
                        <input type="number" id="x_${index}" value="${component.x}" step="0.1" onchange="updateComponent(${index})" placeholder="X">
                        <input type="number" id="y_${index}" value="${component.y}" step="0.1" onchange="updateComponent(${index})" placeholder="Y">
                        <input type="number" id="w_${index}" value="${component.width}" step="0.1" onchange="updateComponent(${index})" placeholder="Width">
                        <input type="number" id="h_${index}" value="${component.height}" step="0.1" onchange="updateComponent(${index})" placeholder="Height">
                    </div>
                    <div class="verification-section">
                        <label>Verification:</label>
                        <label><input type="radio" name="verify_${index}" value="correct"> Correct</label>
                        <label><input type="radio" name="verify_${index}" value="wrong"> Wrong</label>
                    </div>
                `;
                
                container.appendChild(card);
                
                // Initialize the SVG cropper
                updateSVGCropper(index);
            });
        }
        
        function exportResults() {
            const results = [];
            
            allComponents.forEach((component, index) => {
                const verification = document.querySelector(`input[name="verify_${index}"]:checked`);
                results.push({
                    name: component.name,
                    entity_id: component.entity_id,
                    x: component.x,
                    y: component.y,
                    width: component.width,
                    height: component.height,
                    type: component.type,
                    text: component.text,
                    verification: verification ? verification.value : 'not_verified'
                });
            });
            
            document.getElementById('output').value = JSON.stringify(results, null, 2);
        }
        
        function exportCSV() {
            const results = [];
            
            allComponents.forEach((component, index) => {
                const verification = document.querySelector(`input[name="verify_${index}"]:checked`);
                results.push({
                    name: component.name,
                    entity_id: component.entity_id,
                    x: component.x,
                    y: component.y,
                    width: component.width,
                    height: component.height,
                    type: component.type,
                    text: component.text,
                    verification: verification ? verification.value : 'not_verified'
                });
            });
            
            // Convert to CSV
            const headers = ['name', 'entity_id', 'x', 'y', 'width', 'height', 'type', 'text', 'verification'];
            const csvContent = [
                headers.join(','),
                ...results.map(row => headers.map(header => `"${row[header]}"`).join(','))
            ].join('\n');
            
            document.getElementById('output').value = csvContent;
        }
        
        // Initialize the page
        window.onload = function() {
            generateComponents();
        };
    </script>
</body>
</html>
